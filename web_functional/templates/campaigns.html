{% extends "base.html" %}

{% block title %}Campa√±as - VoIP Auto Dialer{% endblock %}

{% block content %}
<div class="fade-in">
    <h1 class="page-title">Campa√±as de Auto-Marcado</h1>
    <p class="page-subtitle">Sistema de marcado autom√°tico y distribuci√≥n de llamadas</p>
    
    <!-- M√©tricas de campa√±as -->
    <div class="metrics-grid">
        <div class="metric-card">
            <div class="metric-header">
                <div class="metric-title">Estado del Sistema</div>
                <div class="metric-icon secondary">‚èπÔ∏è</div>
            </div>
            <div class="metric-value">Detenido</div>
            <div class="metric-label">Auto Dialer</div>
        </div>
        
        <div class="metric-card">
            <div class="metric-header">
                <div class="metric-title">Llamadas Activas</div>
                <div class="metric-icon info">üìû</div>
            </div>
            <div class="metric-value" id="active-calls-count">{{ asterisk_stats.get('active_calls', 0) }}</div>
            <div class="metric-label">En curso</div>
        </div>
        
        <div class="metric-card">
            <div class="metric-header">
                <div class="metric-title">Campa√±as Activas</div>
                <div class="metric-icon warning">üìã</div>
            </div>
            <div class="metric-value">0</div>
            <div class="metric-label">Ejecut√°ndose</div>
        </div>
        
        <div class="metric-card">
            <div class="metric-header">
                <div class="metric-title">Llamadas por Minuto</div>
                <div class="metric-icon success">üìà</div>
            </div>
            <div class="metric-value">10</div>
            <div class="metric-label">CPM Configurado</div>
        </div>
    </div>
    
    <!-- Panel de control del auto dialer -->
    <div class="table-container mb-4">
        <div class="table-header">
            <h2 class="table-title">Auto Dialer - Marcado Autom√°tico</h2>
            <div class="flex gap-2">
                <button class="btn btn-success">
                    ‚ñ∂Ô∏è Iniciar
                </button>
                <button class="btn btn-danger">
                    ‚èπÔ∏è Detener
                </button>
                <button class="btn btn-warning">
                    ‚è∏Ô∏è Pausar
                </button>
            </div>
        </div>
        <div style="padding: 1.5rem;">
            <div class="metrics-grid">
                <div style="text-align: center;">
                    <div style="font-size: 2rem; font-weight: bold; color: var(--success-color);">0</div>
                    <div style="color: var(--text-secondary);">Llamadas Completadas</div>
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 2rem; font-weight: bold; color: var(--warning-color);">0</div>
                    <div style="color: var(--text-secondary);">Llamadas Fallidas</div>
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 2rem; font-weight: bold; color: var(--info-color);">0</div>
                    <div style="color: var(--text-secondary);">En Cola</div>
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 2rem; font-weight: bold; color: var(--primary-color);">0%</div>
                    <div style="color: var(--text-secondary);">Tasa de √âxito</div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Lista de campa√±as -->
    <div class="table-container">
        <div class="table-header">
            <h2 class="table-title">Campa√±as Configuradas</h2>
            <button class="btn btn-success">
                ‚ûï Nueva Campa√±a
            </button>
        </div>
        
        <div style="padding: 2rem; text-align: center;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">üöÄ</div>
            <h3 style="margin-bottom: 1rem;">Sistema de Auto-Marcado Listo</h3>
            <p class="text-secondary mb-3">
                El sistema VoIP est√° completamente configurado con {{ asterisk_stats.get('endpoints', 0) }} endpoints.<br>
                Listo para implementar campa√±as de marcado autom√°tico.
            </p>
            <div class="flex gap-2 justify-center">
                <button class="btn btn-primary">
                    üìã Crear Primera Campa√±a
                </button>
                <button class="btn btn-outline">
                    üìñ Ver Documentaci√≥n
                </button>
            </div>
        </div>
    </div>
</div>
{% endblock %}