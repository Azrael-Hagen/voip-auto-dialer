[general]
static=yes
writeprotect=no
clearglobalvars=no

[globals]
; Configuración global
CONSOLE=Console/dsp
IAXINFO=guest
TRUNK=DAHDI/G2

; ==================== CONTEXTO INTERNO ====================
[internal]
; Extensiones internas (4000-4999)
exten => _4XXX,1,Dial(SIP/${EXTEN},20)
exten => _4XXX,n,Voicemail(${EXTEN}@default,u)
exten => _4XXX,n,Hangup()

; Acceso a líneas externas
exten => _9NXXNXXXXXX,1,Dial(SIP/provider/${EXTEN:1})
exten => _9NXXNXXXXXX,n,Hangup()

; Llamadas de emergencia
exten => 911,1,Dial(SIP/provider/911)
exten => 911,n,Hangup()

; ==================== CONTEXTO DE PROVEEDOR ====================
[from-provider]
; Llamadas entrantes del proveedor
exten => _X.,1,Dial(SIP/4000,20)  ; Redirigir a recepción
exten => _X.,n,Voicemail(4000@default,u)
exten => _X.,n,Hangup()

; ==================== CONTEXTO DE AUTO DIALER ====================
[autodialer]
; Contexto para el sistema de marcado automático
exten => _X.,1,Set(CALLERID(name)=Auto Dialer)
exten => _X.,2,Dial(SIP/provider/${EXTEN})
exten => _X.,3,Hangup()

; ==================== APLICACIONES ESPECIALES ====================
[applications]
; Buzón de voz
exten => *97,1,VoiceMailMain(${CALLERID(num)}@default)
exten => *97,n,Hangup()

; Estado del sistema
exten => *99,1,Answer()
exten => *99,n,Playback(system-status)
exten => *99,n,Hangup()
